---
title: "Predicting POC export from plankton diversity"
subtitle: "Calipsocean meeting"
author: "Thelma Panaïotis"
date: "05/03/2024"
date-format: "DD/MM/YYYY"
format: 
  revealjs:
    theme: simple
    #footer: ""
    slide-number: c
editor: visual
execute: 
  cache: true
---

```{r}
#| output: false
#| echo: false
source(here::here("utils.R"))

load(here("data/00.carbon_data.Rdata"))
load(here("data/01.all_env.Rdata"))
load(here("data/03.uvp_profiles.Rdata"))
load(here("data/04.all_data.Rdata"))
rm(coast)
```

# Data

## POC

POC export at 1000 m, from [Wang et al. 2023](https://www.nature.com/articles/s41586-023-06772-4).

```{r}
ggmap(df = df_c, var = "poc", type = "raster")
```

## Environment

When you click the **Render** button a document will be generated that includes:

-   Content authored with markdown
-   Output from executable code

## Plankton

UVP5 dataset

```{r}
ggplot(profiles, aes(x = lon, y = lat)) +
  geom_polygon(data = world, aes(group = group), fill = "gray") +
  geom_point(size = 0.5) +
  coord_quickmap(expand = FALSE)
```

## Plankton - Taxonomic Diversity

::: columns
::: {.column width="30%"}
-   species richness

-   Shannon index

-   Pielou’s evenness
:::

::: {.column width="70%"}
```{r}
ggmap(profiles, var = "ta_div", type = "point") + labs(colour = "Shannon")
```
:::
:::

## Plankton - Taxonomic Diversity

::: {style="position:absolute;top:15%;left:0%;"}
<span style="font-size: 30px">Species richness</span><br><br>
<span style="font-size: 30px; color: white;background-color: #001852;border-radius: 10px;">Entire water column</span><span style="font-size: 30px;"> vs. fixed sequestration depth</span><br><br>
<span style="font-size: 30px;">Gravitational + Migrant + Mixing pumps transport <span style="color: #528133;"><strong>F<sub>org</sub></strong></span><br><br></span> 
<span style="font-size: 30px;"><span style="color: #528133;"><strong>F<sub>org</sub></strong></span> respired to CO<sub>2</sub> (<strong><span style="color: #D01556FF;"><strong>F<sub>remin</sub></strong></span></strong>) or sedimented <br><br></span>
<span style="font-size: 30px;">Respiratory CO<sub>2</sub> = biogenic DIC (<strong><span style="color: #793da5;"><strong>DIC<sub>bio</sub></strong></span></strong>)<br><br></span>
:::


## Plankton - Taxonomic Diversity

-   species richness

-   Shannon index

-   Pielou’s evenness

```{r}
ggmap(profiles, var = "ta_div", type = "point") + labs(colour = "Shannon")
```

## Plankton - Morphological Diversity

## Plankton - Trophic Diversity

::: columns
::: {.column width="40%"}
Left column
:::

::: {.column width="60%"}
Right column
:::
:::

## Dataset

`r nrow(df)` data points

```{r}
ggmap(df, var = "poc", type = "point")
```

# Model

## Code

When you click the **Render** button a presentation will be generated that includes both content and the output of embedded code. You can embed code like this:

```{r}
1 + 1
```
